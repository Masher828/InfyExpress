{"ast":null,"code":"var _jsxFileName = \"G:\\\\Project\\\\InfyExpress (MERN)\\\\infyexpress_frontend\\\\src\\\\Components\\\\MainComponent.js\";\nimport React from 'react';\nimport { Switch, Route, Redirect, withRouter } from 'react-router-dom';\nimport Home from './Home.js';\nimport { connect } from 'react-redux';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport Header from './Header.js';\nimport Footer from './Footer.js';\nimport ServicesList from './ServiceList.js';\nimport Service from './Service';\nimport { fetchService, loginUser, submitQuote, addUser, logoutUser } from '../redux/ActionCreators.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar mapStateToProps = function (state) {\n  return {\n    service: state.Service,\n    user: state.User\n  };\n};\n\nvar mapDispatchToProps = function (dispatch) {\n  return {\n    fetchService: () => dispatch(fetchService()),\n    submitQuote: data => dispatch(submitQuote(data)),\n    addUser: creds => dispatch(addUser(creds)),\n    loginUser: creds => dispatch(loginUser(creds)),\n    logoutUser: () => dispatch(logoutUser())\n  };\n};\n\nclass MainComponent extends React.Component {\n  constructor() {\n    super();\n    this.state = {};\n  }\n\n  componentDidMount() {\n    this.props.fetchService();\n  }\n\n  componentWillUnmount() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('creds');\n  }\n\n  render() {\n    const ServiceWithId = ({\n      match\n    }) => {\n      if (this.props.service.services.length > 0) {\n        let service = this.props.service.services.filter(service => service._id == match.params.serviceId)[0];\n        if (service) return /*#__PURE__*/_jsxDEV(Service, {\n          service: service,\n          submitQuote: this.props.submitQuote\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this);else return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 28\n        }, this);\n      } else {\n        return null;\n      }\n    };\n\n    const logout = () => {\n      this.props.logoutUser();\n\n      /*#__PURE__*/\n      _jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this);\n    };\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        authenticated: this.props.user.isAuthenticated\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          component: Home\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), this.props.user.isAuthenticated ? null : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/register\",\n            component: () => /*#__PURE__*/_jsxDEV(Register, {\n              authenticated: this.props.user.isAuthenticated,\n              addUser: this.props.addUser,\n              error: this.props.user.err,\n              isLoading: this.props.user.isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/login\",\n            component: () => /*#__PURE__*/_jsxDEV(Login, {\n              authenticated: this.props.user.isAuthenticated,\n              error: this.props.user.err,\n              loginUser: this.props.loginUser,\n              isLoading: this.props.isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/logout\",\n          component: logout()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/listofservices\",\n          component: () => /*#__PURE__*/_jsxDEV(ServicesList, {\n            service: this.props.service\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/listofservices/:serviceId\",\n          component: ServiceWithId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MainComponent));","map":{"version":3,"sources":["G:/Project/InfyExpress (MERN)/infyexpress_frontend/src/Components/MainComponent.js"],"names":["React","Switch","Route","Redirect","withRouter","Home","connect","Login","Register","Header","Footer","ServicesList","Service","fetchService","loginUser","submitQuote","addUser","logoutUser","mapStateToProps","state","service","user","User","mapDispatchToProps","dispatch","data","creds","MainComponent","Component","constructor","componentDidMount","props","componentWillUnmount","localStorage","removeItem","render","ServiceWithId","match","services","length","filter","_id","params","serviceId","logout","isAuthenticated","err","isLoading"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {Switch, Route, Redirect, withRouter} from 'react-router-dom';\r\nimport Home from './Home.js';\r\nimport { connect } from 'react-redux';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\nimport Header from './Header.js';\r\nimport Footer from './Footer.js';\r\nimport ServicesList from './ServiceList.js';\r\nimport Service from './Service';\r\nimport { fetchService, loginUser, submitQuote, addUser, logoutUser } from '../redux/ActionCreators.js';\r\n\r\nvar mapStateToProps = function(state){\r\n    return {\r\n      service : state.Service,\r\n      user : state.User\r\n    };\r\n  }\r\nvar mapDispatchToProps = function(dispatch){\r\n    return {\r\n        fetchService : ()=>dispatch(fetchService()),\r\n        submitQuote :(data)=>dispatch(submitQuote(data)),\r\n        addUser: (creds)=>dispatch(addUser(creds)),\r\n        loginUser : (creds)=>dispatch(loginUser(creds)),\r\n        logoutUser : ()=>dispatch(logoutUser())\r\n    }\r\n  }\r\n\r\nclass MainComponent extends React.Component{\r\n    constructor(){\r\n        super();\r\n        this.state={}\r\n    }\r\n    componentDidMount(){\r\n        this.props.fetchService();\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('creds');\r\n    }\r\n    render(){\r\n        const ServiceWithId = ({match}) => {\r\n            \r\n            if (this.props.service.services.length>0){\r\n                let service = this.props.service.services.filter((service)=> service._id==match.params.serviceId)[0];\r\n                if (service)\r\n                return(\r\n                    <Service service= {service} submitQuote={this.props.submitQuote}/>\r\n                    )\r\n                else\r\n                    return <Redirect to=\"/\" />\r\n            }\r\n            else{\r\n                    return(null);\r\n            }\r\n            \r\n        };\r\n        const logout =()=>{\r\n            this.props.logoutUser();\r\n            <Redirect to=\"/\"/>\r\n        }\r\n        return(\r\n            <>\r\n                <Header authenticated={this.props.user.isAuthenticated}/>\r\n                <Switch>\r\n                    <Route  exact path=\"/\" \r\n                            component={Home} />\r\n                    {this.props.user.isAuthenticated?null:\r\n                    <>\r\n                    <Route  exact path=\"/register\" \r\n                        component={()=><Register    authenticated ={this.props.user.isAuthenticated}\r\n                                                    addUser ={this.props.addUser}\r\n                                                    error={this.props.user.err}\r\n                                                    isLoading={this.props.user.isLoading}/>}/>\r\n                    <Route  exact path=\"/login\" \r\n                        component= {()=><Login  authenticated={this.props.user.isAuthenticated} \r\n                                                error={this.props.user.err} \r\n                                                loginUser={this.props.loginUser}\r\n                                                isLoading={this.props.isLoading}/>} />\r\n                                        </>\r\n                    }\r\n                    <Route exact path=\"/logout\"\r\n                        component={logout()}\r\n                    />\r\n                    <Route  exact path=\"/listofservices\" \r\n                            component={()=><ServicesList\r\n                                            service = {this.props.service} \r\n                                            />}/>\r\n                        \r\n                    <Route exact path =\"/listofservices/:serviceId\" \r\n                            component={ServiceWithId}/>\r\n                    <Redirect to=\"/\" />\r\n                </Switch>\r\n                <Footer />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MainComponent));"]},"metadata":{},"sourceType":"module"}