{"ast":null,"code":"import { ADD_USER_FAILED, ADD_USER_RECEIVED, ADD_USER_REQUEST, FETCH_SERVICE_FAILED, FETCH_SERVICE_RECEIVED, FETCH_SERVICE_REQUEST, LOGIN_USER_FAILED, LOGIN_USER_RECEIVED, LOGIN_USER_REQUEST, LOGOUT_USER_RECEIVED, SUBMIT_QUOTE_FAILED, SUBMIT_QUOTE_RECIEVED, SUBMIT_QUOTE_REQUEST, LOGOUT_USER_REQUEST, BOOK_SERVICE_REQUEST, BOOK_SERVICE_FAILED, BOOK_SERVICE_RECEIVED, FETCH_BOOKING_RECEIVED, FETCH_BOOKING_REQUEST, FETCH_BOOKING_FAILED } from \"./ActionType\";\nimport Axios from 'axios';\nexport const loginUserRequest = () => {\n  return {\n    type: LOGIN_USER_REQUEST\n  };\n};\nexport const loginUserReceived = details => {\n  return {\n    type: LOGIN_USER_RECEIVED,\n    details\n  };\n};\nexport const loginUserFailed = err => {\n  return {\n    type: LOGIN_USER_FAILED,\n    err\n  };\n};\nexport const loginUser = creds => dispatch => {\n  dispatch(loginUserRequest());\n  fetch('http://localhost:3000/users/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': \"application/json\"\n    },\n    body: JSON.stringify(creds)\n  }).then(response => {\n    if (response.ok) {\n      return response;\n    } else {\n      var err = new Error(response.status);\n      err.response = response;\n      throw err;\n    }\n  }).then(response => response.json()).then(response => {\n    if (response.success) {\n      localStorage.setItem('token', response.token);\n      dispatch(loginUserReceived({\n        token: response.token\n      }));\n    } else {\n      dispatch(loginUserFailed({\n        err: response.info.message\n      }));\n    }\n  });\n};\nexport const addUserRequest = () => {\n  return {\n    type: ADD_USER_REQUEST\n  };\n};\nexport const addUserReceived = details => {\n  return {\n    type: ADD_USER_RECEIVED,\n    details\n  };\n};\nexport const addUserFailed = err => {\n  return {\n    type: ADD_USER_FAILED,\n    err\n  };\n};\nexport const addUser = data => dispatch => {\n  dispatch(addUserRequest());\n  Axios.post(\"http://localhost:3000/users/signup\", data).then(response => {\n    if (response.data.success) {\n      dispatch(addUserReceived());\n    } else {\n      dispatch(addUserFailed({\n        err: response.err\n      }));\n    }\n  }).catch(err => dispatch(addUserFailed(err.message)));\n};\nexport const logoutUserRequest = () => {\n  return {\n    type: LOGOUT_USER_REQUEST\n  };\n};\nexport const logoutUserReceived = () => {\n  return {\n    type: LOGOUT_USER_RECEIVED\n  };\n};\nexport const logoutUser = () => dispatch => {\n  console.log(\"logging out user\");\n  dispatch(logoutUserRequest());\n  localStorage.removeItem('token');\n  fetch('http://localhost:3000/users/logout', {\n    method: 'GET',\n    headers: {\n      'Content-Type': \"application/json\"\n    }\n  }, err => {\n    throw err;\n  }).then(response => response.json()).then(response => {\n    dispatch(logoutUserReceived());\n  });\n};\nexport const fetchServiceRequest = () => {\n  return {\n    type: FETCH_SERVICE_REQUEST\n  };\n};\nexport const fetchServiceReceived = services => {\n  return {\n    type: FETCH_SERVICE_RECEIVED,\n    services: services\n  };\n};\nexport const fetchServiceFailed = err => {\n  return {\n    type: FETCH_SERVICE_FAILED,\n    err: err\n  };\n};\nexport const fetchService = () => dispatch => {\n  dispatch(fetchServiceRequest());\n  Axios.get('http://localhost:3000/services').then(response => {\n    if (response.data.success) {\n      dispatch(fetchServiceReceived(response.data.services));\n    } else {\n      dispatch(fetchServiceFailed({\n        err: \"err\"\n      }));\n    }\n  }).catch(err => dispatch(fetchServiceFailed(err)));\n};\nexport const submitQuoteRequest = () => {\n  return {\n    type: SUBMIT_QUOTE_REQUEST\n  };\n};\nexport const submitQuoteReceived = () => {\n  return {\n    type: SUBMIT_QUOTE_RECIEVED\n  };\n};\nexport const submitQuoteFailed = err => {\n  return {\n    type: SUBMIT_QUOTE_FAILED,\n    err: err\n  };\n};\nexport const submitQuote = data => dispatch => {\n  dispatch(submitQuoteRequest());\n  console.log(data);\n  Axios.post(\"http://localhost:3000/randomstringforadmin/addQuote\", data).then(response => {\n    console.log(response);\n\n    if (response.data.success) {\n      dispatch(submitQuoteReceived());\n    } else {\n      dispatch(submitQuoteFailed(response.data.err));\n    }\n  }, err => {\n    console.log(err);\n    dispatch(submitQuoteFailed(err));\n  }).catch(err => {\n    console.log(err);\n    dispatch(submitQuoteFailed(err));\n  });\n};\nexport const bookServiceRequest = () => {\n  return {\n    type: BOOK_SERVICE_REQUEST\n  };\n};\nexport const bookServiceFailed = err => {\n  return {\n    type: BOOK_SERVICE_FAILED,\n    err: err\n  };\n};\nexport const bookServiceReceived = () => {\n  return {\n    type: BOOK_SERVICE_RECEIVED\n  };\n};\nexport const bookService = data => dispatch => {\n  console.log(data);\n  dispatch(bookServiceRequest());\n  fetch('http://localhost:3000/booking', {\n    method: 'POST',\n    headers: {\n      'Content-Type': \"application/json\",\n      'Authorization': 'bearer ' + localStorage.getItem('token')\n    },\n    body: JSON.stringify(data)\n  }).then(response => response.json()).then(response => {\n    console.log(response);\n\n    if (response.success) {\n      dispatch(bookServiceReceived());\n    } else {\n      dispatch(bookServiceFailed(response.err));\n    }\n  }, err => {\n    console.log(err);\n    dispatch(bookServiceFailed(response.data.err));\n  });\n};\nexport const fetchBookingRequest = () => {\n  return {\n    type: FETCH_BOOKING_REQUEST\n  };\n};\nexport const fetchBookingReceived = bookings => {\n  console.log(bookings);\n  return {\n    type: FETCH_BOOKING_RECEIVED,\n    bookings: bookings\n  };\n};\nexport const fetchBookingFailed = err => {\n  return {\n    type: FETCH_BOOKING_FAILED,\n    err: err\n  };\n};\nexport const fetchBooking = data => dispatch => {\n  dispatch(fetchServiceRequest());\n  fetch('http://localhost:3000/booking', {\n    method: 'GET',\n    headers: {\n      'Content-Type': \"application/json\",\n      'Authorization': \"bearer \" + localStorage.getItem('token')\n    }\n  }).then(response => response.json()).then(response => {\n    if (response.success) {\n      dispatch(fetchBookingReceived(response.bookings));\n    } else {\n      dispatch(fetchBookingFailed(response.err));\n    }\n  }, err => {\n    dispatch(fetchBookingFailed(err));\n  });\n};","map":{"version":3,"sources":["G:/Project/InfyExpress (MERN)/infyexpress_frontend/src/redux/ActionCreators.js"],"names":["ADD_USER_FAILED","ADD_USER_RECEIVED","ADD_USER_REQUEST","FETCH_SERVICE_FAILED","FETCH_SERVICE_RECEIVED","FETCH_SERVICE_REQUEST","LOGIN_USER_FAILED","LOGIN_USER_RECEIVED","LOGIN_USER_REQUEST","LOGOUT_USER_RECEIVED","SUBMIT_QUOTE_FAILED","SUBMIT_QUOTE_RECIEVED","SUBMIT_QUOTE_REQUEST","LOGOUT_USER_REQUEST","BOOK_SERVICE_REQUEST","BOOK_SERVICE_FAILED","BOOK_SERVICE_RECEIVED","FETCH_BOOKING_RECEIVED","FETCH_BOOKING_REQUEST","FETCH_BOOKING_FAILED","Axios","loginUserRequest","type","loginUserReceived","details","loginUserFailed","err","loginUser","creds","dispatch","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","status","json","success","localStorage","setItem","token","info","message","addUserRequest","addUserReceived","addUserFailed","addUser","data","post","catch","logoutUserRequest","logoutUserReceived","logoutUser","console","log","removeItem","fetchServiceRequest","fetchServiceReceived","services","fetchServiceFailed","fetchService","get","submitQuoteRequest","submitQuoteReceived","submitQuoteFailed","submitQuote","bookServiceRequest","bookServiceFailed","bookServiceReceived","bookService","getItem","fetchBookingRequest","fetchBookingReceived","bookings","fetchBookingFailed","fetchBooking"],"mappings":"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","sourcesContent":["import { ADD_USER_FAILED, ADD_USER_RECEIVED, ADD_USER_REQUEST, FETCH_SERVICE_FAILED, FETCH_SERVICE_RECEIVED, FETCH_SERVICE_REQUEST, LOGIN_USER_FAILED, LOGIN_USER_RECEIVED, LOGIN_USER_REQUEST, LOGOUT_USER_RECEIVED, SUBMIT_QUOTE_FAILED, SUBMIT_QUOTE_RECIEVED, SUBMIT_QUOTE_REQUEST, LOGOUT_USER_REQUEST, BOOK_SERVICE_REQUEST, BOOK_SERVICE_FAILED, BOOK_SERVICE_RECEIVED, FETCH_BOOKING_RECEIVED, FETCH_BOOKING_REQUEST, FETCH_BOOKING_FAILED } from \"./ActionType\"\r\nimport Axios from 'axios';\r\n\r\n\r\nexport const loginUserRequest = ()=>{\r\n    return{\r\n        type : LOGIN_USER_REQUEST\r\n    }\r\n};\r\n\r\nexport const loginUserReceived = (details)=>{\r\n    return {\r\n        type : LOGIN_USER_RECEIVED,\r\n        details\r\n    }\r\n};\r\n\r\nexport const loginUserFailed = (err)=>{\r\n    return{\r\n        type : LOGIN_USER_FAILED,\r\n        err\r\n    }\r\n};\r\n\r\nexport const loginUser = (creds)=>(dispatch)=>{\r\n    dispatch(loginUserRequest());\r\n    fetch('http://localhost:3000/users/login',{\r\n        method : 'POST',\r\n        headers : {\r\n            'Content-Type' : \"application/json\"\r\n        },\r\n        body : JSON.stringify(creds)\r\n    })\r\n    .then((response)=>{\r\n        if (response.ok){\r\n            return response;\r\n        }\r\n        else{\r\n            var err= new Error(response.status);\r\n            err.response = response;\r\n            throw err;\r\n        }\r\n    })\r\n    .then((response)=>response.json())\r\n    .then((response)=>{\r\n        if(response.success){\r\n            localStorage.setItem('token',response.token);\r\n            dispatch(loginUserReceived({token:response.token}));\r\n        }\r\n        else{\r\n            dispatch(loginUserFailed({err:response.info.message}))\r\n        }\r\n    })\r\n}\r\n\r\nexport const addUserRequest = ()=>{\r\n    return{\r\n        type : ADD_USER_REQUEST\r\n    }\r\n};\r\n\r\nexport const addUserReceived = (details)=>{\r\n    return {\r\n        type : ADD_USER_RECEIVED,\r\n        details\r\n    }\r\n};\r\n\r\nexport const addUserFailed = (err)=>{\r\n    return{\r\n        type : ADD_USER_FAILED,\r\n        err\r\n    }\r\n};\r\n\r\nexport const addUser = (data)=>(dispatch)=>{\r\n    dispatch(addUserRequest());\r\n    Axios.post(\"http://localhost:3000/users/signup\",data)\r\n    .then((response)=>{\r\n        if(response.data.success){\r\n            dispatch(addUserReceived());\r\n        }\r\n        else{\r\n            dispatch(addUserFailed({err:response.err}))\r\n        }\r\n    })\r\n    .catch((err)=>dispatch(addUserFailed(err.message)));\r\n}\r\n\r\nexport const logoutUserRequest = ()=>{\r\n    return{\r\n        type : LOGOUT_USER_REQUEST\r\n    }\r\n};\r\n\r\nexport const logoutUserReceived = ()=>{\r\n    return{\r\n        type : LOGOUT_USER_RECEIVED\r\n    }\r\n};\r\n\r\nexport const logoutUser = ()=>(dispatch)=>{\r\n    console.log(\"logging out user\");\r\n    dispatch(logoutUserRequest());\r\n    localStorage.removeItem('token');\r\n    fetch('http://localhost:3000/users/logout',{\r\n        method:'GET',\r\n        headers:{\r\n            'Content-Type':\"application/json\"\r\n        }\r\n    },(err)=>{throw err})\r\n    .then((response)=>response.json())\r\n    .then(response=>{\r\n        dispatch(logoutUserReceived());\r\n    })\r\n};\r\n\r\nexport const fetchServiceRequest = () =>{\r\n    return{\r\n        type : FETCH_SERVICE_REQUEST\r\n    }\r\n}\r\n\r\nexport const fetchServiceReceived = (services) =>{\r\n    return{\r\n        type : FETCH_SERVICE_RECEIVED,\r\n        services: services\r\n    }\r\n}\r\n\r\nexport const fetchServiceFailed = (err) =>{\r\n    return{\r\n        type : FETCH_SERVICE_FAILED,\r\n        err : err\r\n    }\r\n}\r\n\r\nexport const fetchService = ()=> (dispatch) =>{\r\n    dispatch(fetchServiceRequest());\r\n    Axios.get('http://localhost:3000/services')\r\n    .then(response=>{\r\n        if (response.data.success){\r\n            dispatch(fetchServiceReceived(response.data.services));\r\n        }\r\n        else{\r\n            \r\n            dispatch(fetchServiceFailed({err:\"err\"}))\r\n        }\r\n    })\r\n    .catch((err)=>dispatch(fetchServiceFailed(err)));\r\n}\r\n\r\nexport const submitQuoteRequest = ()=>{\r\n    return{\r\n        type : SUBMIT_QUOTE_REQUEST\r\n    }\r\n}\r\n\r\nexport const submitQuoteReceived = ()=>{\r\n    return{\r\n        type : SUBMIT_QUOTE_RECIEVED\r\n    }\r\n}\r\n\r\nexport const submitQuoteFailed = (err)=>{\r\n    return{\r\n        type : SUBMIT_QUOTE_FAILED,\r\n        err: err\r\n    }\r\n}\r\n\r\nexport const submitQuote = (data)=>(dispatch)=>{\r\n    dispatch(submitQuoteRequest());\r\n    console.log(data)\r\n    Axios.post(\"http://localhost:3000/randomstringforadmin/addQuote\",data)\r\n    .then(response=>{\r\n        console.log(response);\r\n        if (response.data.success){\r\n            dispatch(submitQuoteReceived());\r\n        }\r\n        else{\r\n            dispatch(submitQuoteFailed(response.data.err));\r\n        }\r\n    }, (err)=>{\r\n        console.log(err);\r\n        dispatch(submitQuoteFailed(err));\r\n    })\r\n    .catch((err)=>{\r\n        console.log(err);\r\n        dispatch(submitQuoteFailed(err));\r\n    })\r\n    \r\n}\r\n\r\n\r\nexport const bookServiceRequest = ()=>{\r\n    return {\r\n        type: BOOK_SERVICE_REQUEST\r\n    }\r\n};\r\n\r\nexport const bookServiceFailed = (err)=>{\r\n    return{\r\n        type : BOOK_SERVICE_FAILED,\r\n        err:err\r\n    }\r\n};\r\n\r\nexport const bookServiceReceived = ()=>{\r\n    return {\r\n        type : BOOK_SERVICE_RECEIVED\r\n    }\r\n};\r\n\r\nexport const bookService = (data)=>(dispatch)=>{\r\n    console.log(data)\r\n    dispatch(bookServiceRequest());\r\n    fetch('http://localhost:3000/booking',{\r\n        method:'POST',\r\n        headers:{\r\n            'Content-Type':\"application/json\",\r\n            'Authorization':'bearer '+localStorage.getItem('token')\r\n        },\r\n        body:JSON.stringify(data)\r\n    })\r\n    .then(response=>response.json())\r\n    .then((response)=>{\r\n        console.log(response);\r\n        if (response.success){\r\n            dispatch(bookServiceReceived());\r\n        }\r\n        else{\r\n            dispatch(bookServiceFailed(response.err));\r\n        }\r\n        \r\n    }, err=>{\r\n        console.log(err);\r\n        dispatch(bookServiceFailed(response.data.err));\r\n    })\r\n};\r\n\r\nexport const fetchBookingRequest =()=>{\r\n    return{\r\n        type : FETCH_BOOKING_REQUEST\r\n    }\r\n};\r\n\r\nexport const fetchBookingReceived =(bookings)=>{\r\n    console.log(bookings)\r\n    return{\r\n        type : FETCH_BOOKING_RECEIVED,\r\n        bookings : bookings\r\n    }\r\n};\r\n\r\nexport const fetchBookingFailed = (err)=>{\r\n    return{\r\n        type : FETCH_BOOKING_FAILED,\r\n        err:err\r\n    };\r\n}\r\n\r\nexport const fetchBooking = (data)=>(dispatch)=>{\r\n    dispatch(fetchServiceRequest());\r\n    fetch('http://localhost:3000/booking',{\r\n        method : 'GET',\r\n        headers:{\r\n            'Content-Type':\"application/json\",\r\n            'Authorization': \"bearer \"+localStorage.getItem('token')\r\n        }\r\n    })\r\n    .then((response)=>response.json())\r\n    .then((response)=>{\r\n        if (response.success){\r\n            dispatch(fetchBookingReceived(response.bookings));\r\n        }\r\n        else{\r\n            dispatch(fetchBookingFailed(response.err));\r\n        }\r\n    }, (err)=>{\r\n        dispatch(fetchBookingFailed(err))\r\n    })\r\n};"]},"metadata":{},"sourceType":"module"}